<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="855px" preserveAspectRatio="none" style="width:819px;height:855px;" version="1.1" viewBox="0 0 819 855" width="819px" zoomAndPan="magnify"><defs><filter height="300%" id="f9db17tvgh0j8" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="36" x="393.5" y="16.708">类图</text><!--class Builder--><rect fill="#FEFECE" filter="url(#f9db17tvgh0j8)" height="60.8047" id="Builder" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="719" y="431.9531"/><ellipse cx="734" cy="447.9531" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M734.9531,444.7344 L734.9531,451.25 L736.6719,451.25 C737.125,451.25 737.2656,451.2813 737.4375,451.4063 C737.6719,451.5781 737.7813,451.8281 737.7813,452.1094 C737.7813,452.6719 737.4219,452.9531 736.6719,452.9531 L731.5313,452.9531 C731.125,452.9531 730.9219,452.9063 730.7656,452.7813 C730.5469,452.625 730.4063,452.3594 730.4063,452.1094 C730.4063,451.8125 730.5625,451.5313 730.8125,451.375 C730.9688,451.2656 731.0938,451.25 731.5313,451.25 L733.25,451.25 L733.25,444.7344 L731.5313,444.7344 C731.1094,444.7344 730.9219,444.7031 730.7656,444.5938 C730.5469,444.4219 730.4063,444.1719 730.4063,443.8906 C730.4063,443.6094 730.5625,443.3125 730.8125,443.1563 C730.9688,443.0625 731.0938,443.0469 731.5313,443.0469 L736.6719,443.0469 C737.125,443.0469 737.2656,443.0781 737.4375,443.1875 C737.6719,443.3594 737.7813,443.625 737.7813,443.8906 C737.7813,444.1875 737.6406,444.4688 737.375,444.625 C737.25,444.7031 737.0625,444.7344 736.6719,444.7344 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="43" x="748" y="452.1074">Builder</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="9" x="799" y="428.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="7" x="800" y="441.0918">T</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="720" x2="804" y1="463.9531" y2="463.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="720" x2="804" y1="471.9531" y2="471.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="725" y="486.1636">T build();</text><!--class Configuration--><rect fill="#FEFECE" filter="url(#f9db17tvgh0j8)" height="48" id="Configuration" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="311" y="302.9531"/><ellipse cx="326" cy="318.9531" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M326.9531,315.7344 L326.9531,322.25 L328.6719,322.25 C329.125,322.25 329.2656,322.2813 329.4375,322.4063 C329.6719,322.5781 329.7813,322.8281 329.7813,323.1094 C329.7813,323.6719 329.4219,323.9531 328.6719,323.9531 L323.5313,323.9531 C323.125,323.9531 322.9219,323.9063 322.7656,323.7813 C322.5469,323.625 322.4063,323.3594 322.4063,323.1094 C322.4063,322.8125 322.5625,322.5313 322.8125,322.375 C322.9688,322.2656 323.0938,322.25 323.5313,322.25 L325.25,322.25 L325.25,315.7344 L323.5313,315.7344 C323.1094,315.7344 322.9219,315.7031 322.7656,315.5938 C322.5469,315.4219 322.4063,315.1719 322.4063,314.8906 C322.4063,314.6094 322.5625,314.3125 322.8125,314.1563 C322.9688,314.0625 323.0938,314.0469 323.5313,314.0469 L328.6719,314.0469 C329.125,314.0469 329.2656,314.0781 329.4375,314.1875 C329.6719,314.3594 329.7813,314.625 329.7813,314.8906 C329.7813,315.1875 329.6406,315.4688 329.375,315.625 C329.25,315.7031 329.0625,315.7344 328.6719,315.7344 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="84" x="340" y="323.1074">Configuration</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="312" x2="426" y1="334.9531" y2="334.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="312" x2="426" y1="342.9531" y2="342.9531"/><!--class AbstractConfiguration--><rect fill="#FEFECE" filter="url(#f9db17tvgh0j8)" height="120.8281" id="AbstractConfiguration" style="stroke: #A80036; stroke-width: 1.5;" width="330" x="6" y="90.4531"/><ellipse cx="98.75" cy="106.4531" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M100.3281,108.2656 L96.2813,108.2656 L95.8906,109.25 L96.2813,109.25 C96.7344,109.25 96.875,109.2813 97.0469,109.4063 C97.2656,109.5781 97.3906,109.8281 97.3906,110.1094 C97.3906,110.3906 97.25,110.6875 96.9844,110.8281 C96.8594,110.9219 96.6406,110.9531 96.2813,110.9531 L94.0156,110.9531 C93.2656,110.9531 92.8906,110.6719 92.8906,110.1094 C92.8906,109.8125 93.0469,109.5313 93.2969,109.375 C93.4531,109.2656 93.6094,109.25 94.0313,109.25 L96.6719,102.7344 L95.5938,102.7344 C95.1563,102.7344 94.9844,102.7031 94.8125,102.5938 C94.5938,102.4219 94.4531,102.1719 94.4531,101.8906 C94.4531,101.6094 94.6094,101.3281 94.8594,101.1563 C95.0156,101.0625 95.1406,101.0469 95.5938,101.0469 L99.2656,101.0469 L102.6563,109.25 C103.125,109.25 103.2813,109.2813 103.4531,109.4219 C103.6719,109.5781 103.8125,109.8281 103.8125,110.1094 C103.8125,110.3906 103.6563,110.6875 103.4063,110.8281 C103.2656,110.9219 103.0469,110.9531 102.6875,110.9531 L100.3281,110.9531 C99.9063,110.9531 99.7031,110.9063 99.5625,110.7813 C99.3438,110.625 99.2031,110.375 99.2031,110.1094 C99.2031,109.8125 99.3594,109.5313 99.6094,109.375 C99.7656,109.2656 99.875,109.25 100.3281,109.25 L100.7188,109.25 Z M99.625,106.5625 L98.2969,103.2969 L96.9531,106.5625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="136" x="119.25" y="110.6074">AbstractConfiguration</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="335" y1="122.4531" y2="122.4531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="131.3555"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="304" x="26" y="136.6636">ConcurrentMap&lt;String, LoggerConfig&gt; loggerConfigs</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="144.1602"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="297" x="26" y="149.4683">final WeakReference&lt;LoggerContext&gt; loggerContext</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="156.9648"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="26" y="162.2729">final WatchManager watchManager</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="169.7695"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="262" x="26" y="175.0776">final ConfigurationSource configurationSource</text><polygon fill="none" points="17,197.3789,21,201.3789,17,205.3789,13,201.3789" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="26" y="204.687">Node rootNode</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="7" x2="154.5" y1="188.0742" y2="188.0742"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="154.5" y="191.3823">根节点</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="187.5" x2="335" y1="188.0742" y2="188.0742"/><!--class BuiltConfiguration--><rect fill="#FEFECE" filter="url(#f9db17tvgh0j8)" height="163.2422" id="BuiltConfiguration" style="stroke: #A80036; stroke-width: 1.5;" width="242" x="50" y="380.9531"/><ellipse cx="111.25" cy="396.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M113.5938,392.625 L113.7656,392.7031 C113.9844,392.3906 114.1875,392.2969 114.4844,392.2969 C114.7813,392.2969 115.0625,392.4375 115.2188,392.7031 C115.3125,392.8594 115.3281,392.9844 115.3281,393.4219 L115.3281,394.8438 C115.3281,395.2656 115.2969,395.4531 115.1875,395.6094 C115.0156,395.8281 114.75,395.9688 114.4844,395.9688 C114.2656,395.9688 114.0313,395.8594 113.8906,395.7188 C113.75,395.5938 113.7188,395.4688 113.6563,395.0625 C113.5625,394.6563 113.3906,394.4375 112.9063,394.1563 C112.4375,393.9063 111.8281,393.75 111.25,393.75 C109.5156,393.75 108.2656,395.0625 108.2656,396.8438 L108.2656,397.9375 C108.2656,399.6406 109.5625,400.7344 111.6094,400.7344 C112.375,400.7344 113.0625,400.6094 113.4844,400.3438 C113.6719,400.25 113.6719,400.25 114.125,399.7656 C114.3125,399.5781 114.5156,399.5 114.7344,399.5 C115.2031,399.5 115.5938,399.8906 115.5938,400.3438 C115.5938,400.7344 115.2656,401.1875 114.6875,401.5938 C113.9375,402.1406 112.7813,402.4375 111.5625,402.4375 C108.6719,402.4375 106.5625,400.5469 106.5625,397.9688 L106.5625,396.8438 C106.5625,394.125 108.5625,392.0469 111.1875,392.0469 C112.0625,392.0469 112.6563,392.1875 113.5938,392.625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="131.75" y="401.1074">BuiltConfiguration</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="51" x2="291" y1="412.9531" y2="412.9531"/><polygon fill="none" points="61,436.6602,65,440.6602,61,444.6602,57,440.6602" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="70" y="443.9683">Component rootComponent;</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="51" x2="154.5" y1="427.3555" y2="427.3555"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="154.5" y="430.6636">根组件</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="187.5" x2="291" y1="427.3555" y2="427.3555"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="58" y="468.2695"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="181" x="70" y="473.5776">Component loggersComponent;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="58" y="481.0742"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="199" x="70" y="486.3823">Component appendersComponent;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="58" y="493.8789"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="171" x="70" y="499.187">Component filtersComponent;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="58" y="506.6836"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="197" x="70" y="511.9917">Component propertiesComponent;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="58" y="519.4883"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="70" y="524.7964">Component customLevelsComponent;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="58" y="532.293"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="70" y="537.6011">Component scriptsComponent;</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="51" x2="154.5" y1="456.9648" y2="456.9648"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="154.5" y="460.2729">子组件</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="187.5" x2="291" y1="456.9648" y2="456.9648"/><!--class PropertiesConfiguration--><rect fill="#FEFECE" filter="url(#f9db17tvgh0j8)" height="48" id="PropertiesConfiguration" style="stroke: #A80036; stroke-width: 1.5;" width="181" x="80.5" y="639.9531"/><ellipse cx="95.5" cy="655.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M97.8438,651.625 L98.0156,651.7031 C98.2344,651.3906 98.4375,651.2969 98.7344,651.2969 C99.0313,651.2969 99.3125,651.4375 99.4688,651.7031 C99.5625,651.8594 99.5781,651.9844 99.5781,652.4219 L99.5781,653.8438 C99.5781,654.2656 99.5469,654.4531 99.4375,654.6094 C99.2656,654.8281 99,654.9688 98.7344,654.9688 C98.5156,654.9688 98.2813,654.8594 98.1406,654.7188 C98,654.5938 97.9688,654.4688 97.9063,654.0625 C97.8125,653.6563 97.6406,653.4375 97.1563,653.1563 C96.6875,652.9063 96.0781,652.75 95.5,652.75 C93.7656,652.75 92.5156,654.0625 92.5156,655.8438 L92.5156,656.9375 C92.5156,658.6406 93.8125,659.7344 95.8594,659.7344 C96.625,659.7344 97.3125,659.6094 97.7344,659.3438 C97.9219,659.25 97.9219,659.25 98.375,658.7656 C98.5625,658.5781 98.7656,658.5 98.9844,658.5 C99.4531,658.5 99.8438,658.8906 99.8438,659.3438 C99.8438,659.7344 99.5156,660.1875 98.9375,660.5938 C98.1875,661.1406 97.0313,661.4375 95.8125,661.4375 C92.9219,661.4375 90.8125,659.5469 90.8125,656.9688 L90.8125,655.8438 C90.8125,653.125 92.8125,651.0469 95.4375,651.0469 C96.3125,651.0469 96.9063,651.1875 97.8438,651.625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149" x="109.5" y="660.1074">PropertiesConfiguration</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="81.5" x2="260.5" y1="671.9531" y2="671.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="81.5" x2="260.5" y1="679.9531" y2="679.9531"/><!--class ConfigurationBuilder--><rect fill="#FEFECE" filter="url(#f9db17tvgh0j8)" height="73.6094" id="ConfigurationBuilder" style="stroke: #A80036; stroke-width: 1.5;" width="328" x="328" y="425.4531"/><ellipse cx="424.25" cy="441.4531" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M425.2031,438.2344 L425.2031,444.75 L426.9219,444.75 C427.375,444.75 427.5156,444.7813 427.6875,444.9063 C427.9219,445.0781 428.0313,445.3281 428.0313,445.6094 C428.0313,446.1719 427.6719,446.4531 426.9219,446.4531 L421.7813,446.4531 C421.375,446.4531 421.1719,446.4063 421.0156,446.2813 C420.7969,446.125 420.6563,445.8594 420.6563,445.6094 C420.6563,445.3125 420.8125,445.0313 421.0625,444.875 C421.2188,444.7656 421.3438,444.75 421.7813,444.75 L423.5,444.75 L423.5,438.2344 L421.7813,438.2344 C421.3594,438.2344 421.1719,438.2031 421.0156,438.0938 C420.7969,437.9219 420.6563,437.6719 420.6563,437.3906 C420.6563,437.1094 420.8125,436.8125 421.0625,436.6563 C421.2188,436.5625 421.3438,436.5469 421.7813,436.5469 L426.9219,436.5469 C427.375,436.5469 427.5156,436.5781 427.6875,436.6875 C427.9219,436.8594 428.0313,437.125 428.0313,437.3906 C428.0313,437.6875 427.8906,437.9688 427.625,438.125 C427.5,438.2031 427.3125,438.2344 426.9219,438.2344 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="127" x="444.75" y="445.6074">ConfigurationBuilder</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="329" x2="655" y1="457.4531" y2="457.4531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="329" x2="655" y1="465.4531" y2="465.4531"/><ellipse cx="339" cy="477.3555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="302" x="348" y="479.6636">ConfigurationBuilder&lt;T&gt; add(XxxComponentBuilder);</text><ellipse cx="339" cy="490.1602" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="348" y="492.4683">Configuration build(boolean);</text><!--class DefaultConfigurationBuilder--><rect fill="#FEFECE" filter="url(#f9db17tvgh0j8)" height="244.0703" id="DefaultConfigurationBuilder" style="stroke: #A80036; stroke-width: 1.5;" width="406" x="371" y="28.9531"/><ellipse cx="483.75" cy="44.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M486.0938,40.625 L486.2656,40.7031 C486.4844,40.3906 486.6875,40.2969 486.9844,40.2969 C487.2813,40.2969 487.5625,40.4375 487.7188,40.7031 C487.8125,40.8594 487.8281,40.9844 487.8281,41.4219 L487.8281,42.8438 C487.8281,43.2656 487.7969,43.4531 487.6875,43.6094 C487.5156,43.8281 487.25,43.9688 486.9844,43.9688 C486.7656,43.9688 486.5313,43.8594 486.3906,43.7188 C486.25,43.5938 486.2188,43.4688 486.1563,43.0625 C486.0625,42.6563 485.8906,42.4375 485.4063,42.1563 C484.9375,41.9063 484.3281,41.75 483.75,41.75 C482.0156,41.75 480.7656,43.0625 480.7656,44.8438 L480.7656,45.9375 C480.7656,47.6406 482.0625,48.7344 484.1094,48.7344 C484.875,48.7344 485.5625,48.6094 485.9844,48.3438 C486.1719,48.25 486.1719,48.25 486.625,47.7656 C486.8125,47.5781 487.0156,47.5 487.2344,47.5 C487.7031,47.5 488.0938,47.8906 488.0938,48.3438 C488.0938,48.7344 487.7656,49.1875 487.1875,49.5938 C486.4375,50.1406 485.2813,50.4375 484.0625,50.4375 C481.1719,50.4375 479.0625,48.5469 479.0625,45.9688 L479.0625,44.8438 C479.0625,42.125 481.0625,40.0469 483.6875,40.0469 C484.5625,40.0469 485.1563,40.1875 486.0938,40.625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="172" x="504.25" y="49.1074">DefaultConfigurationBuilder</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="372" x2="776" y1="60.9531" y2="60.9531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="379" y="69.8555"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="391" y="75.1636">Class&lt;T&gt; clazz;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="379" y="82.6602"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="391" y="87.9683">ConfigurationSource source;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="379" y="95.4648"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="391" y="100.7729">Level level;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="379" y="108.2695"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="169" x="391" y="113.5776">LoggerContext loggerContext;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="379" y="121.0742"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="391" y="126.3823">String name;</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="379" y="150.6836"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="391" y="155.9917">Component root = new Component();</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="372" x2="557.5" y1="139.3789" y2="139.3789"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="557.5" y="142.687">根组件</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="590.5" x2="776" y1="139.3789" y2="139.3789"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="379" y="180.293"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="391" y="185.6011">Component loggers;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="379" y="193.0977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="134" x="391" y="198.4058">Component appenders;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="379" y="205.9023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="391" y="211.2104">Component filters;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="379" y="218.707"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="391" y="224.0151">Component properties;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="395" y="236.8198"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="372" x2="557.5" y1="168.9883" y2="168.9883"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="557.5" y="172.2964">子组件</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="590.5" x2="776" y1="168.9883" y2="168.9883"/><polygon fill="#FFFF44" points="382,259.1211,386,263.1211,382,267.1211,378,263.1211" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="380" x="391" y="266.4292">ConfigurationBuilder&lt;T&gt; add(Component, ComponentBuilder&lt;?&gt;);</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="372" x2="502.5" y1="249.8164" y2="249.8164"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="502.5" y="253.1245">向父组件添加子组件通用方法</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="645.5" x2="776" y1="249.8164" y2="249.8164"/><!--class PropertiesConfigurationBuilder--><rect fill="#FEFECE" filter="url(#f9db17tvgh0j8)" height="86.4141" id="PropertiesConfigurationBuilder" style="stroke: #A80036; stroke-width: 1.5;" width="342" x="324" y="620.9531"/><ellipse cx="394.75" cy="636.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M397.0938,632.625 L397.2656,632.7031 C397.4844,632.3906 397.6875,632.2969 397.9844,632.2969 C398.2813,632.2969 398.5625,632.4375 398.7188,632.7031 C398.8125,632.8594 398.8281,632.9844 398.8281,633.4219 L398.8281,634.8438 C398.8281,635.2656 398.7969,635.4531 398.6875,635.6094 C398.5156,635.8281 398.25,635.9688 397.9844,635.9688 C397.7656,635.9688 397.5313,635.8594 397.3906,635.7188 C397.25,635.5938 397.2188,635.4688 397.1563,635.0625 C397.0625,634.6563 396.8906,634.4375 396.4063,634.1563 C395.9375,633.9063 395.3281,633.75 394.75,633.75 C393.0156,633.75 391.7656,635.0625 391.7656,636.8438 L391.7656,637.9375 C391.7656,639.6406 393.0625,640.7344 395.1094,640.7344 C395.875,640.7344 396.5625,640.6094 396.9844,640.3438 C397.1719,640.25 397.1719,640.25 397.625,639.7656 C397.8125,639.5781 398.0156,639.5 398.2344,639.5 C398.7031,639.5 399.0938,639.8906 399.0938,640.3438 C399.0938,640.7344 398.7656,641.1875 398.1875,641.5938 C397.4375,642.1406 396.2813,642.4375 395.0625,642.4375 C392.1719,642.4375 390.0625,640.5469 390.0625,637.9688 L390.0625,636.8438 C390.0625,634.125 392.0625,632.0469 394.6875,632.0469 C395.5625,632.0469 396.1563,632.1875 397.0938,632.625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="415.25" y="641.1074">PropertiesConfigurationBuilder</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="325" x2="665" y1="652.9531" y2="652.9531"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="332" y="661.8555"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="316" x="344" y="667.1636">ConfigurationBuilder&lt;PropertiesConfiguration&gt; builder;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="325" x2="665" y1="673.7578" y2="673.7578"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="332" y="682.6602"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="254" x="344" y="687.9683">XxxComponentBuilder createXxx(Properties);</text><ellipse cx="335" cy="698.4648" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="344" y="700.7729">PropertiesConfiguration build();</text><!--class PropertiesConfigurationFactory--><rect fill="#FEFECE" filter="url(#f9db17tvgh0j8)" height="60.8047" id="PropertiesConfigurationFactory" style="stroke: #A80036; stroke-width: 1.5;" width="477" x="256.5" y="783.9531"/><ellipse cx="393.25" cy="799.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M395.5938,795.625 L395.7656,795.7031 C395.9844,795.3906 396.1875,795.2969 396.4844,795.2969 C396.7813,795.2969 397.0625,795.4375 397.2188,795.7031 C397.3125,795.8594 397.3281,795.9844 397.3281,796.4219 L397.3281,797.8438 C397.3281,798.2656 397.2969,798.4531 397.1875,798.6094 C397.0156,798.8281 396.75,798.9688 396.4844,798.9688 C396.2656,798.9688 396.0313,798.8594 395.8906,798.7188 C395.75,798.5938 395.7188,798.4688 395.6563,798.0625 C395.5625,797.6563 395.3906,797.4375 394.9063,797.1563 C394.4375,796.9063 393.8281,796.75 393.25,796.75 C391.5156,796.75 390.2656,798.0625 390.2656,799.8438 L390.2656,800.9375 C390.2656,802.6406 391.5625,803.7344 393.6094,803.7344 C394.375,803.7344 395.0625,803.6094 395.4844,803.3438 C395.6719,803.25 395.6719,803.25 396.125,802.7656 C396.3125,802.5781 396.5156,802.5 396.7344,802.5 C397.2031,802.5 397.5938,802.8906 397.5938,803.3438 C397.5938,803.7344 397.2656,804.1875 396.6875,804.5938 C395.9375,805.1406 394.7813,805.4375 393.5625,805.4375 C390.6719,805.4375 388.5625,803.5469 388.5625,800.9688 L388.5625,799.8438 C388.5625,797.125 390.5625,795.0469 393.1875,795.0469 C394.0625,795.0469 394.6563,795.1875 395.5938,795.625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="195" x="413.75" y="804.1074">PropertiesConfigurationFactory</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="257.5" x2="732.5" y1="815.9531" y2="815.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="257.5" x2="732.5" y1="823.9531" y2="823.9531"/><ellipse cx="267.5" cy="835.8555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="451" x="276.5" y="838.1636">PropertiesConfiguration getConfiguration(LoggerContext, ConfigurationSource);</text><!--link ConfigurationBuilder to Builder--><path d="M656.064,462.4531 C671.029,462.4531 685.494,462.4531 698.675,462.4531 " fill="none" id="ConfigurationBuilder-Builder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="698.857,455.4531,718.857,462.4531,698.857,469.4531,698.857,455.4531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="674.5" y="455.52">继承</text><!--link Builder to PropertiesConfigurationBuilder--><path d="M716.186,507.2201 C702.632,519.5231 687.525,532.6271 673,543.9531 C637.97,571.2691 596.858,599.0131 562.975,620.8331 " fill="none" id="Builder-PropertiesConfigurationBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="711.816,501.7281,731.257,493.3001,721.315,512.0121,711.816,501.7281" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="632" y="587.02">实现</text><!--link DefaultConfigurationBuilder to ConfigurationBuilder--><path d="M541.827,273.3871 C529.731,319.0431 516.558,368.7601 506.797,405.6031 " fill="none" id="DefaultConfigurationBuilder-ConfigurationBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="513.504,407.6191,501.616,425.1601,499.971,404.0341,513.504,407.6191" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="534" y="331.52">实现</text><!--link Configuration to ConfigurationBuilder--><path d="M390.425,351.2071 C406.779,368.9571 429.831,393.9761 449.841,415.6951 " fill="none" id="Configuration-ConfigurationBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="458.785,425.4031,457.6615,418.2801,450.6543,416.5775,451.7778,423.7005,458.785,425.4031" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="383.6" y="384.367">build()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="386.6723" y="371.0302">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="443.9235" y="414.3044">1</text><!--link AbstractConfiguration to Configuration--><path d="M238.863,211.5901 C268.205,237.3761 301.609,266.7311 327.227,289.2441 " fill="none" id="AbstractConfiguration-Configuration" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="332.038,284.1521,342.441,302.6131,322.796,294.6691,332.038,284.1521" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="263.831" y="253.326">实现</text><!--link AbstractConfiguration to BuiltConfiguration--><path d="M171,231.7821 C171,277.5961 171,334.9571 171,380.8931 " fill="none" id="AbstractConfiguration-BuiltConfiguration" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="164,231.6281,171,211.6281,178,231.6281,164,231.6281" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="172" y="331.52">继承</text><!--link BuiltConfiguration to PropertiesConfiguration--><path d="M171,564.1221 C171,592.5761 171,620.9291 171,639.9221 " fill="none" id="BuiltConfiguration-PropertiesConfiguration" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="164,564.0221,171,544.0221,178,564.0221,164,564.0221" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="172" y="587.02">继承</text><!--link ConfigurationBuilder to PropertiesConfigurationBuilder--><path d="M492.543,499.5811 C492.996,529.7161 493.65,573.1461 494.168,607.6541 " fill="none" id="ConfigurationBuilder-PropertiesConfigurationBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="494.367,620.8731,498.2762,614.8136,494.1863,608.8745,490.2771,614.934,494.367,620.8731" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="495" y="587.02">包含</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="483.9704" y="519.0829">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="485.6286" y="609.8564">1</text><!--link PropertiesConfiguration to PropertiesConfigurationBuilder--><path d="M261.683,663.9531 C277.198,663.9531 293.803,663.9531 310.739,663.9531 " fill="none" id="PropertiesConfiguration-PropertiesConfigurationBuilder" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="323.742,663.9531,317.742,659.9531,311.742,663.9531,317.742,667.9531,323.742,663.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="279.75" y="657.02">创建</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="269.5239" y="660.4044">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="307.8006" y="660.6738">1</text><!--link PropertiesConfigurationBuilder to PropertiesConfigurationFactory--><path d="M495,707.1101 C495,727.0361 495,750.7799 495,770.7719 " fill="none" id="PropertiesConfigurationBuilder-PropertiesConfigurationFactory" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="495,783.9201,499,777.9201,495,771.9201,491,777.9201,495,783.9201" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="496" y="750.02">创建</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="486.3375" y="727.5438">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="486.125" y="772.7032">1</text><!--
@startuml
title 类图 

interface Builder<T> {
    T build();
}

interface Configuration {
}

abstract class AbstractConfiguration {
  - ConcurrentMap<String, LoggerConfig> loggerConfigs
  - final WeakReference<LoggerContext> loggerContext
  - final WatchManager watchManager
  - final ConfigurationSource configurationSource
  .. 根节点 ..
  # Node rootNode
}

class BuiltConfiguration {
    .. 根组件 ..
    # Component rootComponent;
    .. 子组件 ..
    - Component loggersComponent;
    - Component appendersComponent;
    - Component filtersComponent;
    - Component propertiesComponent;
    - Component customLevelsComponent;
    - Component scriptsComponent;
}

class PropertiesConfiguration

interface ConfigurationBuilder {
  + ConfigurationBuilder<T> add(XxxComponentBuilder);
  + Configuration build(boolean);
}



class DefaultConfigurationBuilder {
    - Class<T> clazz;
    - ConfigurationSource source;
    - Level level;
    - LoggerContext loggerContext;
    - String name;
    .. 根组件 ..
    - Component root = new Component();
    .. 子组件 ..
    - Component loggers;
    - Component appenders;
    - Component filters;
    - Component properties;
    
    __ 向父组件添加子组件通用方法 __
    # ConfigurationBuilder<T> add(Component, ComponentBuilder<?>);
}

class PropertiesConfigurationBuilder {
  - ConfigurationBuilder<PropertiesConfiguration> builder;
  
  - XxxComponentBuilder createXxx(Properties);
  + PropertiesConfiguration build();
}

class PropertiesConfigurationFactory {
  + PropertiesConfiguration getConfiguration(LoggerContext, ConfigurationSource);
}

Builder <|-left- ConfigurationBuilder: 继承
Builder <|-down- PropertiesConfigurationBuilder: 实现
ConfigurationBuilder <|-up- DefaultConfigurationBuilder: 实现
ConfigurationBuilder "1" *-left- "1" Configuration: build()
Configuration <|-left- AbstractConfiguration: 实现
AbstractConfiguration <|-down- BuiltConfiguration: 继承
BuiltConfiguration <|-down- PropertiesConfiguration: 继承
PropertiesConfigurationBuilder  "1" *-left- "1"  ConfigurationBuilder: 包含
PropertiesConfigurationBuilder  "1" *-left- "1"  PropertiesConfiguration: 创建
PropertiesConfigurationFactory  "1" *-up- "1"  PropertiesConfigurationBuilder: 创建
@enduml

PlantUML version 1.2018.06(Mon May 21 10:34:53 UTC 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>